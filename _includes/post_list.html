{% include mode_switcher.html %}

{% if paginator %}
    {% for post in paginator.posts %}
        {% include post_list_item.html %}
    {% endfor %}
{% else %}
    {% for post in include.posts %}
        {% if post.tags or post.category %}
            {% include post_list_item.html %}
            {% assign displayPagi = true %}
        {% endif %}
    {% endfor %}
{% endif %}

{% if displayPagi or paginator %}
<div class="row" id="paginator">
    <ul class="col-lg-2" id="filterList">
        {% assign idx = 0 %}
        {% for category in site.categories %}
            <li {% if idx == 0 %} class="current" {% endif %} data-show="{{ category | first }}">
                <a href="javascript:void(0)">
                {{ category | first }}
                <span class="cateCnt">{{ category | last | size }}</span>
                </a>
            </li>
            {% assign idx = idx | plus: 1 %}
        {% endfor %}
    </ul>
    {% assign cateIdx = 0 %}
    {% for category in site.categories %}
        <section class="showcase col-lg-9 col-lg-offset-1 {% if cateIdx > 0 %} hide {% else %} current {% endif %}" data-show="{{ category | first }}">
            {% for posts in category %}
                {% include post_list.html posts=posts cateIdx=cateIdx %}
                {% assign cateIdx = cateIdx | plus: 1 %}
            {% endfor %}
        </section>
    {% endfor %}

</div>
{% endif %}
{% assign displayPagi = false %}